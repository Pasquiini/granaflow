<!-- src/app/pages/forgot-password/forgot-password.component.html -->
<div class="max-w-md mx-auto p-6 rounded-2xl shadow">
  <h1 class="text-2xl font-semibold mb-4">Redefinir senha</h1>

  <ng-container *ngIf="!sent; else sentTpl">
    <p class="mb-4">Informe seu e-mail. Vamos enviar um link para você criar uma nova senha.</p>

    <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
      <label class="block text-sm mb-1">E-mail</label>
      <input
        type="email"
        formControlName="email"
        class="w-full border rounded px-3 py-2 mb-2"
        placeholder="voce@exemplo.com"
        [class.border-red-500]="form.controls['email'].touched && form.controls['email'].invalid"
      />

      <div class="text-sm text-red-600 mb-2" *ngIf="form.controls['email'].touched && form.controls['email'].errors">
        <span *ngIf="form.controls['email'].errors['required']">Informe seu e-mail.</span>
        <span *ngIf="form.controls['email'].errors['email']">E-mail inválido.</span>
      </div>

      <button class="w-full rounded px-4 py-2 border disabled:opacity-60" [disabled]="loading">
        {{ loading ? 'Enviando…' : 'Enviar link' }}
      </button>

      <p class="text-sm text-red-600 mt-3" *ngIf="errorMsg">{{ errorMsg }}</p>
    </form>
  </ng-container>

  <ng-template #sentTpl>
    <p>Se o e-mail estiver cadastrado, você receberá um link para redefinir a senha nos próximos minutos.</p>
  </ng-template>
</div>
